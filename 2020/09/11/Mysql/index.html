<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8" />
    
        <title>Mysql | </title>
    

    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"/>
<meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no"/>
<meta name="format-detection" content="telephone=no">
<meta name="author" content="’小伙子" />
<meta name="designer" content="minfive" />
<meta name="keywords" content="null"/>
<meta name="description" content="" />

<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-status-bar-style" content="black" />
<meta name="format-detection" content="telephone=yes" />
<meta name="mobile-web-app-capable" content="yes" />
<meta name="robots" content="all" />

<link rel="canonical" href="http://yoursite.com/2020/09/11/Mysql/index.html">

<link rel="icon" type="image/png" href="undefined" sizes="32x32">














<!-- Prefetch -->






<!-- CSS -->

<link rel="stylesheet" href="/scss/base/index.css">


<!-- RSS -->
<link rel="alternate" href="/atom.xml" title="‘小伙子的博客">

<!-- 统计 -->
<!-- 百度统计 -->


<!-- Global site tag (gtag.js) - Google Analytics -->


    
    
    
<link rel="stylesheet" href="/scss/views/page/post.css">


<meta name="generator" content="Hexo 4.2.0"></head>
<body ontouchstart>
    
        <!-- loading 页面 -->
<div id="page-loading" class="page page-loading" style="background-image: url('undefined')"></div>
    

    <div id="page" class="page js-hidden">
        
    <!-- 页头 -->
<header class="page__small-header page__header--small">
    <nav class="page__navbar">
        <div class="page__container navbar-container">
            <a class="page__logo" href="/" title="‘小伙子的博客" alt="‘小伙子的博客">
                <img src="undefined" alt="‘小伙子的博客">
            </a>

            <nav class="page__nav">
                <ul class="nav__list clearfix">
                    
                </ul>
            </nav>

            <button class="page__menu-btn" type="button">
                <i class="iconfont icon-menu"></i>
            </button>
        </div>
    </nav>
</header>


        
    <main class="page__container page__main">
    <div class="page__content">
        <article class="page__post">
    <div class="post__cover">
        <img src="undefined" alt="Mysql">
    </div>

    <header class="post__info">
        <h1 class="post__title">Mysql</h1>

        <div class="post__mark">
            <div class="mark__block">
                <i class="mark__icon iconfont icon-write"></i>
                <ul class="mark__list clearfix">
                    
                        <li class="mark__item">
                            <a href="/">undefined</a>
                        </li>
                    
                </ul>
            </div>
            
            <div class="mark__block">
                <i class="mark__icon iconfont icon-time"></i>
                <ul class="mark__list clearfix">
                    <li class="mark__item"><span>2020-09-11</span></li>
                </ul>
            </div>

            <div class="mark__block">
                <i class="mark__icon iconfont icon-tab"></i>
                <ul class="mark__list clearfix">
                    
                </ul>
            </div>

            
        </div>
    </header>

    <div class="post__content">
        <h2 id="一、MySQL数据库基本操作"><a href="#一、MySQL数据库基本操作" class="headerlink" title="一、MySQL数据库基本操作"></a>一、MySQL数据库基本操作</h2><h3 id="1-登录数据库"><a href="#1-登录数据库" class="headerlink" title="1.登录数据库"></a>1.登录数据库</h3><p>（1）连接本地mysql数据库<br>    mysql -u用户名 -p </p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql  -uroot -p</span><br></pre></td></tr></table></figure>

<p>（2）连接其他电脑上的数据库<br>    mysql -u用户名 -p -hIP地址 -port端口</p>
<h3 id="2-展示当前mysql中所有数据库"><a href="#2-展示当前mysql中所有数据库" class="headerlink" title="2.展示当前mysql中所有数据库"></a>2.展示当前mysql中所有数据库</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">show databases;  </span><br><span class="line">展示表 show tables;</span><br></pre></td></tr></table></figure>

<h3 id="3-创建数据库"><a href="#3-创建数据库" class="headerlink" title="3.创建数据库"></a>3.创建数据库</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">database</span> testDB;</span><br></pre></td></tr></table></figure>

<h3 id="4-进入-切换数据库"><a href="#4-进入-切换数据库" class="headerlink" title="4.进入/切换数据库"></a>4.进入/切换数据库</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">use</span> testDB;</span><br></pre></td></tr></table></figure>

<p>testDB为数据的名字</p>
<h3 id="5-操作数据库表"><a href="#5-操作数据库表" class="headerlink" title="5.操作数据库表"></a>5.操作数据库表</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*创建表*/</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> t1(</span><br><span class="line">	<span class="keyword">num</span> <span class="built_in">int</span>(<span class="number">4</span>) <span class="keyword">unsigned</span> zerofill;</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>unsigned表示无符号 :0~位数的最大值</p>
<p>zerofill：比如num为4位，这里有数字“12”,则表示为 “0012”</p>
<img src="/2020/09/11/Mysql/Mysql%5C1599816887996.png" alt="1599816887996" style="zoom:80%;">

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> t1 <span class="keyword">values</span>(<span class="number">12</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> t1 <span class="keyword">values</span>(<span class="number">-1</span>);不能插入，因为用了unsigned</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> t1 <span class="keyword">values</span>(<span class="number">1.1</span>);会自动四舍五入 成1</span><br></pre></td></tr></table></figure>



<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> t1;</span><br></pre></td></tr></table></figure>



<h3 id="6-查看当前数据库中所有数据库表"><a href="#6-查看当前数据库中所有数据库表" class="headerlink" title="6.查看当前数据库中所有数据库表"></a>6.查看当前数据库中所有数据库表</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">show</span> <span class="keyword">tables</span>;</span><br></pre></td></tr></table></figure>



<h3 id="7-Mysql数据库可以保存的数据类型"><a href="#7-Mysql数据库可以保存的数据类型" class="headerlink" title="7.Mysql数据库可以保存的数据类型"></a>7.Mysql数据库可以保存的数据类型</h3><ul>
<li>整型：tinyint(-127~127)、int()</li>
</ul>
<ul>
<li><p>浮点型：</p>
<p>double(M,D) zerofill：</p>
<p>​    M：有效位数；</p>
<p>​    D：小数位数；</p>
<p>double(4,2)：4位有效位数，2位小数；</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> t2(</span><br><span class="line">    money <span class="keyword">double</span>(<span class="number">4</span>,<span class="number">2</span>) zerofill </span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> t2 <span class="keyword">values</span>(<span class="number">3.1415926</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> t2 <span class="keyword">values</span>(<span class="number">1234.1415926</span>);//error超出了有效位数</span><br></pre></td></tr></table></figure>

<img src="/2020/09/11/Mysql/Mysql%5C1599817784035.png" alt="1599817784035" style="zoom:80%;">

<p>只会保留后两位，所以zerofill因版本原因，有时候会补零。</p>
</li>
<li><p>日期型：</p>
<p><strong>Date</strong>：年月日</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> t3(</span><br><span class="line">    birthday <span class="built_in">date</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> t3 <span class="keyword">values</span>(<span class="string">"2020-09-11"</span>);</span><br></pre></td></tr></table></figure>



</li>
</ul>
<p>  <strong>DateTime</strong>：年月日时分秒</p>
  <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> t3(</span><br><span class="line">	birthday <span class="built_in">date</span>;</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> t3 <span class="keyword">values</span>(<span class="string">'yyyy-mm-dd'</span>);</span><br></pre></td></tr></table></figure>



<p>  <strong>TimeStamp</strong>：时间戳</p>
<p>  <strong>Time</strong>：时分秒 hh:mm:ss</p>
<ul>
<li><p><strong>字符型</strong>：</p>
<p>char：如果有没有用完的长度，则用空格填满;检索速度快</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*char(M):M必须指定*/</span></span><br><span class="line">name char(2)</span><br></pre></td></tr></table></figure>



</li>
</ul>
<p>  varchar：可变长，只会占据实际的长度；可以占据更少的空间，检索(查询)速度稍慢</p>
<p>  BLOB：把图片转换为16进制存储</p>
<p>  CLOB：文本内容</p>
<ul>
<li><p>枚举型：</p>
<p><strong>ENUM:</strong>枚举类型,一次仅有一个值的字符串对象</p>
</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> t4(</span><br><span class="line">    sex enum(<span class="string">'男'</span>,<span class="string">'女'</span>)</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> t4 <span class="keyword">values</span>(<span class="string">"男"</span>);</span><br></pre></td></tr></table></figure>



<ul>
<li><p>集合型：</p>
<p>set</p>
</li>
</ul>
<h3 id="8-DDL语句（数据定义语句）"><a href="#8-DDL语句（数据定义语句）" class="headerlink" title="8.DDL语句（数据定义语句）"></a>8.DDL语句（数据定义语句）</h3><h4 id="8-1-建表语句："><a href="#8-1-建表语句：" class="headerlink" title="8.1 建表语句："></a>8.1 建表语句：</h4><p> foreign key（外键列）：不一定依赖主键列，只需唯一即可；</p>
<p>unique：只能是列级约束，不能是表级约束；</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> 表名(</span><br><span class="line">	字段名 数据类型 约束, <span class="comment">/**不一定以id 为主键列**/</span></span><br><span class="line">    字段<span class="number">2</span> 数据类型</span><br><span class="line">) <span class="keyword">engine</span>=<span class="keyword">Innodb</span> <span class="keyword">default</span> <span class="keyword">charset</span>=utf8;</span><br></pre></td></tr></table></figure>

<p>注：engine用来指定数据库引擎;  default charset=utf8用来指定当前表的编码；</p>
<h4 id="8-2删除表"><a href="#8-2删除表" class="headerlink" title="8.2删除表"></a>8.2删除表</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> 表名,表名.....;   删表</span><br></pre></td></tr></table></figure>

<h4 id="8-3自增长测试"><a href="#8-3自增长测试" class="headerlink" title="8.3自增长测试"></a>8.3自增长测试</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> auto_test(</span><br><span class="line">    <span class="keyword">id</span> <span class="built_in">int</span> primary <span class="keyword">key</span> auto_increment,</span><br><span class="line">    <span class="keyword">name</span> <span class="built_in">varchar</span>(<span class="number">20</span>) <span class="keyword">not</span> <span class="literal">null</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> auto_test(<span class="keyword">name</span>) <span class="keyword">values</span>(<span class="string">"Tom"</span>);</span><br><span class="line"><span class="keyword">set</span> <span class="keyword">session</span>/<span class="keyword">global</span> auto_increment_incrment(设置步长)/<span class="keyword">offset</span>(设置从哪里开始) =? 修改自增长的步长，最大值为<span class="number">65535</span>，最小值为 <span class="number">1</span></span><br></pre></td></tr></table></figure>



<h3 id="9-约束"><a href="#9-约束" class="headerlink" title="9.约束"></a>9.约束</h3><p>约束是用来限制和保护表的数据符合我们定义的条件。</p>
<ol>
<li>not null 非空约束（只能是列级约束）</li>
<li>unique 唯一约束</li>
<li>primary key 主键：非空唯一</li>
<li>foreign key 外键<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 例子：列级约束</span></span><br><span class="line">    <span class="keyword">create</span> <span class="keyword">table</span> student(</span><br><span class="line">        <span class="keyword">id</span> <span class="built_in">int</span> primary <span class="keyword">key</span>,</span><br><span class="line">        <span class="keyword">name</span> <span class="built_in">varchar</span>(<span class="number">5</span>) <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">        phone <span class="built_in">char</span>(<span class="number">11</span>) <span class="keyword">unique</span></span><br><span class="line">    );</span><br><span class="line">    </span><br><span class="line"><span class="comment">-- 例子：表级约束</span></span><br><span class="line">    <span class="keyword">create</span> <span class="keyword">table</span> student(</span><br><span class="line">        <span class="keyword">id</span> <span class="built_in">int</span>,</span><br><span class="line">        <span class="keyword">name</span> <span class="built_in">varchar</span>(<span class="number">5</span>) <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">        phone <span class="built_in">char</span>(<span class="number">11</span>),</span><br><span class="line">        primary <span class="keyword">key</span> (<span class="keyword">id</span>),</span><br><span class="line">        <span class="keyword">unique</span> (phone )</span><br><span class="line">    );</span><br><span class="line">    </span><br><span class="line"> <span class="comment">-- 例子：外键约束</span></span><br><span class="line">    <span class="keyword">create</span> <span class="keyword">table</span> pk1(</span><br><span class="line">        <span class="keyword">id</span> <span class="built_in">int</span>,</span><br><span class="line">        <span class="keyword">name</span> <span class="built_in">varchar</span>(<span class="number">5</span>) <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">        primary <span class="keyword">key</span> (<span class="keyword">id</span>)</span><br><span class="line">    );   </span><br><span class="line">    </span><br><span class="line">    <span class="keyword">create</span> <span class="keyword">table</span> fk1(</span><br><span class="line">        <span class="keyword">id</span> <span class="built_in">int</span>,</span><br><span class="line">        pk_id <span class="built_in">int</span>,</span><br><span class="line">        primary <span class="keyword">key</span> (<span class="keyword">id</span>),</span><br><span class="line">        <span class="keyword">foreign</span> <span class="keyword">key</span> (pk_id) <span class="keyword">references</span> pk1(<span class="keyword">id</span>)</span><br><span class="line">    );</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h3 id="9-1建表的三大范式"><a href="#9-1建表的三大范式" class="headerlink" title="9.1建表的三大范式"></a>9.1建表的三大范式</h3><ol>
<li>确保每列的原子性。</li>
<li>确保表中的每列都要和主键列相关。</li>
<li>确保每个列都和组件有直接关系。</li>
</ol>
<h3 id="9-2表与表之间的关联关系"><a href="#9-2表与表之间的关联关系" class="headerlink" title="9.2表与表之间的关联关系"></a>9.2表与表之间的关联关系</h3><ol>
<li>一对一 （1:1）：丈夫和妻子</li>
</ol>
<p>外键随便放哪一方，但是只能放一方。</p>
<p>   2.一对多（1：n）：飞机和乘客</p>
<p>外键列放在<strong>多</strong>的一方。</p>
<p>​                    飞机                                                                                                        乘客</p>
<table>
<thead>
<tr>
<th>id</th>
<th>num</th>
<th>name</th>
<th></th>
<th>id</th>
<th>name</th>
<th>age</th>
<th>p_id</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>001</td>
<td>吉祥</td>
<td></td>
<td>1</td>
<td>傅聪</td>
<td>21</td>
<td>1</td>
</tr>
<tr>
<td>2</td>
<td>002</td>
<td>东方</td>
<td></td>
<td>2</td>
<td>曾庆红</td>
<td>20</td>
<td>2</td>
</tr>
<tr>
<td>3</td>
<td>003</td>
<td>春秋</td>
<td></td>
<td>3</td>
<td>骚猪</td>
<td>20</td>
<td>1</td>
</tr>
</tbody></table>
<p>  3.多对多（n:n）：老师和学生。使用桥表</p>
<p>外键放哪边都不合适，所以使用桥表；</p>
<p>桥表是数据库中的概念</p>
<p>​                老师                                                                                                        学生</p>
<table>
<thead>
<tr>
<th>id</th>
<th>name</th>
<th></th>
<th></th>
<th>id</th>
<th>name</th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>张志东</td>
<td></td>
<td></td>
<td>1</td>
<td>洪斌</td>
<td></td>
</tr>
<tr>
<td>2</td>
<td>马云</td>
<td></td>
<td></td>
<td>2</td>
<td>海豹</td>
<td></td>
</tr>
<tr>
<td>3</td>
<td>马化腾</td>
<td></td>
<td></td>
<td>3</td>
<td>涛涛</td>
<td></td>
</tr>
</tbody></table>
<p> 桥表1:老师1有1、2、3三个学生</p>
<table>
<thead>
<tr>
<th>id</th>
<th>t_id</th>
<th>s_id</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>1</td>
<td>1</td>
</tr>
<tr>
<td>2</td>
<td>1</td>
<td>2</td>
</tr>
<tr>
<td>3</td>
<td>1</td>
<td>3</td>
</tr>
</tbody></table>
<p>桥表2：学生1有1、2、3三个老师</p>
<table>
<thead>
<tr>
<th>id</th>
<th>s_id</th>
<th>t_id</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>1</td>
<td>1</td>
</tr>
<tr>
<td>2</td>
<td>1</td>
<td>2</td>
</tr>
<tr>
<td>3</td>
<td>1</td>
<td>3</td>
</tr>
</tbody></table>
<h3 id="10-index索引的作用"><a href="#10-index索引的作用" class="headerlink" title="10.index索引的作用"></a>10.index索引的作用</h3><p>提高检索效率</p>
<p>index和key关键字</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> index_test(</span><br><span class="line">    <span class="keyword">id</span> <span class="built_in">int</span> primary <span class="keyword">key</span> auto_increment,</span><br><span class="line">    <span class="keyword">name</span> <span class="built_in">varchar</span>(<span class="number">8</span>),</span><br><span class="line">    age <span class="built_in">int</span>,</span><br><span class="line">    <span class="keyword">index</span> name_index(<span class="keyword">name</span>)<span class="comment">/**索引：name_index为索引名，如果不起索引名，则以列名为索引名**/</span></span><br><span class="line">    <span class="keyword">key</span>(age) <span class="comment">/**相当于index(age)，但是一般用来索引的多**/</span></span><br><span class="line">)</span><br><span class="line">将来只有添加索引列进行查询才会提高效率，一个列一般只加一个索引</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">name</span> <span class="keyword">from</span> index_test;</span><br><span class="line">这样有name索引才会加快查询速度；</span><br></pre></td></tr></table></figure>

<p>删除索引:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">创建一个表用来测试</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> alert_test(</span><br><span class="line">    <span class="keyword">id</span> <span class="built_in">int</span> primary <span class="keyword">key</span> auto_increment,</span><br><span class="line">    <span class="keyword">name</span> <span class="built_in">varchar</span>(<span class="number">20</span>)</span><br><span class="line">);</span><br><span class="line">    </span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">index</span></span><br></pre></td></tr></table></figure>



<h3 id="11-修改表中的相关内容"><a href="#11-修改表中的相关内容" class="headerlink" title="11.修改表中的相关内容"></a>11.修改表中的相关内容</h3><ul>
<li>添加列</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">创建一个表用来测试</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> alert_test(</span><br><span class="line">    <span class="keyword">id</span> <span class="built_in">int</span> primary <span class="keyword">key</span> auto_increment,</span><br><span class="line">    <span class="keyword">name</span> <span class="built_in">varchar</span>(<span class="number">20</span>)</span><br><span class="line">);</span><br><span class="line">    </span><br><span class="line">添加列名为phone int类型的列</span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> alert_test <span class="keyword">add</span> <span class="keyword">column</span> phone <span class="built_in">int</span> <span class="keyword">unique</span>;</span><br></pre></td></tr></table></figure>

<ul>
<li>删除列</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> alter_test <span class="keyword">drop</span> <span class="keyword">column</span> <span class="keyword">name</span>;</span><br><span class="line">删除alter_test表的name列</span><br></pre></td></tr></table></figure>



<ul>
<li>修改表名</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> alert_test <span class="keyword">rename</span> alter_test;</span><br><span class="line">将表名alert_test修改为alter_test</span><br></pre></td></tr></table></figure>



<ul>
<li>修改列名/列的数据类型/列的约束</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> alter_test <span class="keyword">change</span> phone <span class="keyword">num</span> <span class="built_in">int</span>(<span class="number">5</span>) <span class="keyword">not</span> <span class="literal">null</span>;</span><br><span class="line">将列名为phone修改为num int(5),且不为空</span><br><span class="line"></span><br><span class="line">给name列加一个非空约束:</span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> alter_test <span class="keyword">change</span> <span class="keyword">name</span> <span class="keyword">name</span> <span class="built_in">varchar</span>(<span class="number">5</span>) <span class="keyword">not</span> <span class="literal">null</span>;</span><br></pre></td></tr></table></figure>



<ul>
<li>删除表的主键约束(不能设置自增长，否则无法删除)</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> alter_test <span class="keyword">drop</span> primary <span class="keyword">key</span>;</span><br></pre></td></tr></table></figure>



<ul>
<li>添加主键约束</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> alter_test <span class="keyword">add</span> primary <span class="keyword">key</span>(<span class="keyword">id</span>);</span><br></pre></td></tr></table></figure>



<h3 id="12-DML语句（数据操作语句）"><a href="#12-DML语句（数据操作语句）" class="headerlink" title="12.DML语句（数据操作语句）"></a>12.DML语句（数据操作语句）</h3><ul>
<li><strong>insert</strong></li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> 表名 <span class="keyword">values</span>(值,xx,xx,xx,..);</span><br><span class="line">插入数据时，默认按照表声明的字段顺序插入。</span><br></pre></td></tr></table></figure>

<p>也可以指定字段名,表里有多个字段，但是只给name和id列赋值</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> dml_test(</span><br><span class="line">	<span class="keyword">id</span> <span class="built_in">int</span> primary <span class="keyword">key</span> auto_increment,</span><br><span class="line">    <span class="keyword">name</span> <span class="built_in">varchar</span>(<span class="number">20</span>),</span><br><span class="line">    age <span class="built_in">int</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> 表名(<span class="keyword">name</span>,<span class="keyword">id</span>) <span class="keyword">values</span>(<span class="string">'tom'</span>,<span class="number">2</span>);</span><br><span class="line">如果id列设置为自增长，我们又给id传入值，则按照我们自己传入的id值插入，不按照自增长。</span><br></pre></td></tr></table></figure>



<ul>
<li><strong>delete</strong></li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> 表名;</span><br><span class="line">删除一张表中所有数据(不会删除表和表结构，只会将表中数据全部清空)</span><br></pre></td></tr></table></figure>

<p>单条件删除：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> dml_test <span class="keyword">where</span> <span class="keyword">id</span>(根据那个字段的值删除)=x;</span><br></pre></td></tr></table></figure>

<p>多条件删除：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">删除id=1和name为javk的一条记录</span><br><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> dml_test <span class="keyword">where</span> <span class="keyword">id</span>=<span class="number">1</span> <span class="keyword">and</span> <span class="keyword">name</span>=<span class="string">'javk'</span>;</span><br><span class="line"></span><br><span class="line">删除id=1 或者 name为javk的多条记录</span><br><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> dml_test <span class="keyword">where</span> <span class="keyword">id</span>=<span class="number">1</span> <span class="keyword">or</span> <span class="keyword">name</span>=<span class="string">'javk'</span>;</span><br></pre></td></tr></table></figure>



<ul>
<li><strong>update</strong></li>
</ul>
<p>修改一张表中的全部数据：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">update</span> 表名 <span class="keyword">Set</span> 字段名=值，字段名=值....;</span><br><span class="line"></span><br><span class="line">例如：</span><br><span class="line"><span class="keyword">update</span> dml_test <span class="keyword">Set</span> <span class="keyword">name</span>=<span class="string">'tom'</span>;</span><br><span class="line">会将所有记录的name列修改为‘tom’</span><br></pre></td></tr></table></figure>



<p>修改一表中某条数据的值：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">update</span> dml_test <span class="keyword">set</span> <span class="keyword">name</span>=<span class="string">'海豹'</span> <span class="keyword">where</span> <span class="keyword">id</span>= <span class="number">2</span>;</span><br></pre></td></tr></table></figure>



<ul>
<li><strong>optimize整理表数据</strong></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">optimize table dml_test;</span><br></pre></td></tr></table></figure>

<h3 id="13-操作符和函数"><a href="#13-操作符和函数" class="headerlink" title="13.操作符和函数"></a>13.操作符和函数</h3><h4 id="13-1-操作数"><a href="#13-1-操作数" class="headerlink" title="13.1 操作数"></a>13.1 操作数</h4><p><strong>or（||）</strong>：或</p>
<p><strong>and（&amp;&amp;）</strong>：和</p>
<p><strong>not</strong>：取非</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> dml_test <span class="keyword">where</span> age <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">null</span>;</span><br></pre></td></tr></table></figure>



<p><strong>is</strong>：用来判断字段值是否为null</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> dml_test <span class="keyword">where</span> age <span class="keyword">is</span> <span class="literal">null</span>;</span><br></pre></td></tr></table></figure>



<p><strong>like</strong>：模糊查询</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> dml_test <span class="keyword">where</span> <span class="keyword">name</span> <span class="keyword">like</span> <span class="string">'_t%'</span>;</span><br><span class="line">%为通配符，可以替代多个字符,_为代替一个字符</span><br></pre></td></tr></table></figure>



<p><strong>in</strong>：精确查询</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> dml_test <span class="keyword">where</span> <span class="keyword">name</span> <span class="keyword">in</span> (<span class="string">'tom'</span>,<span class="string">'haibao'</span>);</span><br></pre></td></tr></table></figure>



<p><strong>!</strong>：取反</p>
<p>如 !like ,!=</p>
<p><strong>between</strong>： </p>
<p>在某个范围之间</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> dml_test <span class="keyword">where</span> age <span class="keyword">between</span> <span class="number">12</span> <span class="keyword">and</span> <span class="number">23</span>;</span><br></pre></td></tr></table></figure>



<p><strong>case</strong>：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">case</span> age</span><br><span class="line"><span class="keyword">when</span> <span class="number">20</span> <span class="keyword">then</span> <span class="string">"a"</span></span><br><span class="line"><span class="keyword">when</span> <span class="literal">null</span> <span class="keyword">then</span> <span class="string">"b"</span></span><br><span class="line"><span class="keyword">when</span> <span class="number">11</span> <span class="keyword">then</span> <span class="string">"c"</span></span><br><span class="line"><span class="keyword">else</span> <span class="string">"hello world"</span> <span class="keyword">end</span></span><br><span class="line"><span class="keyword">form</span> dml_test;</span><br></pre></td></tr></table></figure>

<h4 id="13-2-函数"><a href="#13-2-函数" class="headerlink" title="13.2 函数"></a>13.2 函数</h4><h5 id="13-2-1-字符函数："><a href="#13-2-1-字符函数：" class="headerlink" title="13.2.1.字符函数："></a>13.2.1.字符函数：</h5><ul>
<li>Lower:表示将字符全部小写；</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="string">"Hello Word!"</span> <span class="keyword">as</span> msg;</span><br><span class="line">//直接查询“Hello Word！”，列名为msg;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">lower</span>(<span class="string">"Hello Word!"</span>) <span class="keyword">as</span> msg;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> <span class="keyword">test</span> <span class="keyword">where</span> <span class="keyword">lower</span>(<span class="keyword">name</span>)=<span class="string">"jack"</span>; 将name字段的字符都小写，再查询，这样可以查询出所有Jack,jACk,jack...</span><br></pre></td></tr></table></figure>

<img src="/2020/09/11/Mysql/Mysql%5C1601167034421.png" alt="1601167034421" style="zoom:80%;">

<p>所有字符都小写了；</p>
<ul>
<li>Upper：将字符全部大写</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">upper</span>(<span class="string">"Hello Word!"</span>) <span class="keyword">as</span> msg;</span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> <span class="keyword">test</span> <span class="keyword">where</span> <span class="keyword">upper</span>(<span class="keyword">name</span>)=<span class="string">"JACK"</span>; 将name字段的字符都小写，再查询，这样可以查询出所有Jack,jACk,jack...</span><br></pre></td></tr></table></figure>

<img src="/2020/09/11/Mysql/D:%5CProgram_Files%5CChenZhixia-stu%5Csource%5C_posts%5CMysql%5C1601167104612.png" alt="1601167104612" style="zoom:80%;">



<ul>
<li><p>Concat：将字符拼接；</p>
<p>第一个参数表示截取的字符串，</p>
<p>第二个参数表示从哪里开始截取</p>
<p>第三个参数表示截取长度，长度超出有效范围，则按最大有效范围为主</p>
</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">concat</span>(<span class="string">"hello"</span>,<span class="string">"word"</span>) <span class="keyword">as</span> msg;</span><br></pre></td></tr></table></figure>

<img src="/2020/09/11/Mysql/D:%5CProgram_Files%5CChenZhixia-stu%5Csource%5C_posts%5CMysql%5C1601167335937.png" alt="1601167335937" style="zoom: 80%;">

<ul>
<li>Substr：截取字符串 </li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">substr</span>(<span class="string">"hello world"</span>,<span class="number">1</span>,<span class="number">3</span>) <span class="keyword">as</span> msg;</span><br><span class="line">从第一个字符开始，截取三个字符</span><br></pre></td></tr></table></figure>

<img src="/2020/09/11/Mysql/D:%5CProgram_Files%5CChenZhixia-stu%5Csource%5C_posts%5CMysql%5C1601167758961.png" alt="1601167758961" style="zoom:80%;">



<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">substr</span>(<span class="string">"hello world"</span>,<span class="number">0</span>,<span class="number">3</span>);</span><br><span class="line">从0开始，但是没有第0个字符，所以为空</span><br></pre></td></tr></table></figure>

<img src="/2020/09/11/Mysql/Mysql%5C1601167562552.png" alt="1601167562552" style="zoom:80%;">



<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">substr</span>(<span class="string">"hello world"</span>,<span class="number">6</span>,<span class="number">3</span>) <span class="keyword">as</span> msg; </span><br><span class="line">其中空格也算一个字符</span><br></pre></td></tr></table></figure>

<img src="/2020/09/11/Mysql/Mysql%5C1601167798768.png" alt="1601167798768" style="zoom:80%;">

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">substr</span>(<span class="string">"hello world"</span>,<span class="number">7</span>,<span class="number">10</span>) <span class="keyword">as</span> msg;</span><br></pre></td></tr></table></figure>

<img src="/2020/09/11/Mysql/Mysql%5C1601167859751.png" alt="1601167859751" style="zoom:80%;">



<p>截取helloworld的前三个字母，首字母大写，其他小写：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<ul>
<li>length();获取字符串的长度：</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">length</span>(<span class="string">"hello world"</span>) <span class="keyword">as</span> 长度;</span><br></pre></td></tr></table></figure>

<img src="/2020/09/11/Mysql/Mysql%5C1601169026934.png" alt="1601169026934" style="zoom:80%;">

<h5 id="13-2-2-数学函数"><a href="#13-2-2-数学函数" class="headerlink" title="13.2.2 数学函数"></a>13.2.2 数学函数</h5><ul>
<li><strong>round();</strong>四舍五入</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">round</span>(<span class="number">10.56</span>);</span><br></pre></td></tr></table></figure>

<img src="/2020/09/11/Mysql/Mysql%5C1601169226047.png" alt="1601169226047" style="zoom:80%;">

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">round</span>(<span class="number">10.567</span>,<span class="number">2</span>);</span><br><span class="line">保存小数点后两位</span><br></pre></td></tr></table></figure>

<img src="/2020/09/11/Mysql/Mysql%5C1601169369103.png" alt="1601169369103" style="zoom:80%;">

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">round</span>(<span class="number">16.567</span>,<span class="number">-1</span>);</span><br><span class="line">从个位开始进位</span><br><span class="line">-2则为从十位进位，</span><br></pre></td></tr></table></figure>

<img src="/2020/09/11/Mysql/Mysql%5C1601169488509.png" alt="1601169488509" style="zoom:80%;">





<ul>
<li><strong>truncate();</strong>截取，只舍不取</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">truncate</span>(<span class="number">10.567</span>,<span class="number">1</span>);</span><br></pre></td></tr></table></figure>

<img src="/2020/09/11/Mysql/Mysql%5C1601169750096.png" alt="1601169750096" style="zoom:80%;">

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">truncate</span>(<span class="number">10.567</span>,<span class="number">-1</span>);</span><br></pre></td></tr></table></figure>

<img src="/2020/09/11/Mysql/Mysql%5C1601169664763.png" alt="1601169664763" style="zoom:80%;">





<ul>
<li><strong>Abs();</strong>  取绝对值</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">Abs</span>(<span class="number">-11</span>);</span><br></pre></td></tr></table></figure>

<img src="/2020/09/11/Mysql/Mysql%5C1601169858107.png" alt="1601169858107" style="zoom:80%;">

<h5 id="13-2-3日期函数"><a href="#13-2-3日期函数" class="headerlink" title="13.2.3日期函数"></a>13.2.3日期函数</h5><ul>
<li>curdate():年月日</li>
<li>curtime()：时分秒</li>
<li>now()：年月日时分秒</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">curdate</span>(),<span class="keyword">curtime</span>(),<span class="keyword">now</span>();</span><br></pre></td></tr></table></figure>

<img src="/2020/09/11/Mysql/Mysql%5C1601170006896.png" alt="1601170006896" style="zoom:80%;">

<ul>
<li>subdate(x,x):截取以前的年月日，第二个参数表示日期数</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">subdate</span>(<span class="keyword">curdate</span>(),<span class="number">3</span>);</span><br></pre></td></tr></table></figure>

<img src="/2020/09/11/Mysql/Mysql%5C1601170426732.png" alt="1601170426732" style="zoom:80%;">

<ul>
<li>adddate(x,x);截取未来的年月日，第二参数表示日期数</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> adddate(<span class="keyword">curdate</span>(),<span class="number">6</span>);</span><br></pre></td></tr></table></figure>

<img src="/2020/09/11/Mysql/Mysql%5C1601170531526.png" alt="1601170531526" style="zoom:80%;">

<ul>
<li>DateDiff(x,x):</li>
</ul>
<p>前面的日期减去后面的日期</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">datediff</span>(<span class="string">"2020-09-27"</span>,<span class="string">"2020-09-20"</span>);</span><br></pre></td></tr></table></figure>

<img src="/2020/09/11/Mysql/Mysql%5C1601170716823.png" alt="1601170716823" style="zoom:80%;">

<ul>
<li>date_format</li>
</ul>
<p>%m 月 ，%Y(四位数)  %y(两位)</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">date_format</span>(<span class="keyword">curdate</span>(),<span class="string">'%y %m %d'</span>);%y-%m 中间也可以用其他符号表示分割</span><br></pre></td></tr></table></figure>

<h5 id="13-2-4-其他函数"><a href="#13-2-4-其他函数" class="headerlink" title="13.2.4 其他函数"></a>13.2.4 其他函数</h5><p>加密算法：</p>
<p><strong>1.aes_encrypt(xx,key)加密</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">aes_encrypt</span>(<span class="string">"12345"</span>,<span class="string">"pwd"</span>);</span><br></pre></td></tr></table></figure>

<img src="/2020/09/11/Mysql/Mysql%5C1601260028390.png" alt="1601260028390" style="zoom:80%;">

<p><strong>2.aes_decrypt(xx,,key)解密</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">aes_decrypt</span>(<span class="keyword">aes_encrypt</span>(<span class="string">"12345"</span>,<span class="string">"pwd"</span>),<span class="string">"pwd"</span>);</span><br></pre></td></tr></table></figure>

<img src="/2020/09/11/Mysql/Mysql%5C1601260431558.png" alt="1601260431558" style="zoom:80%;">

<p><strong>3.MD5加密</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">MD5</span>(<span class="string">"123456"</span>);</span><br></pre></td></tr></table></figure>

<img src="/2020/09/11/Mysql/Mysql%5C1601260507734.png" alt="1601260507734" style="zoom:80%;">

<h1 id="二、数据库查询语句"><a href="#二、数据库查询语句" class="headerlink" title="二、数据库查询语句"></a>二、数据库查询语句</h1><p>1.导入.sql文件：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql -u root -p 123456</span><br></pre></td></tr></table></figure>

<p>注意：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">selet语句永远不会改变数据库中的原始记录，仅仅是对数据进行提取处理而已。</span><br></pre></td></tr></table></figure>

<p><strong>select查询语句：</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> 字段<span class="number">1</span>，字段<span class="number">2.</span>.. <span class="keyword">from</span> 表名;</span><br><span class="line"></span><br><span class="line">（先后顺序）</span><br><span class="line"><span class="keyword">select</span> 字段<span class="number">1</span>，字段<span class="number">2.</span>.. <span class="keyword">from</span> 表名</span><br><span class="line">	<span class="keyword">where</span> 查询条件</span><br><span class="line">	<span class="keyword">group</span> <span class="keyword">by</span> 列名</span><br><span class="line">	<span class="keyword">having</span> 分组条件</span><br><span class="line">	<span class="keyword">order</span> <span class="keyword">by</span> 列名;</span><br></pre></td></tr></table></figure>

<h2 id="1-查询所有部门相关信息"><a href="#1-查询所有部门相关信息" class="headerlink" title="1.查询所有部门相关信息"></a>1.查询所有部门相关信息</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> *  <span class="keyword">from</span> s_dept;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">id</span>,<span class="keyword">name</span>,region_id <span class="keyword">from</span> s_dept;</span><br></pre></td></tr></table></figure>

<h2 id="2-查询部门名为Sales的相关部门信息"><a href="#2-查询部门名为Sales的相关部门信息" class="headerlink" title="2.查询部门名为Sales的相关部门信息"></a>2.查询部门名为Sales的相关部门信息</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">id</span>,<span class="keyword">name</span>,region_id</span><br><span class="line">	<span class="keyword">from</span> s_dept</span><br><span class="line">	<span class="keyword">where</span> <span class="keyword">name</span>=<span class="string">'Sales'</span>;</span><br></pre></td></tr></table></figure>

<h2 id="3-查询部门名为Sales或Finance的相关信息"><a href="#3-查询部门名为Sales或Finance的相关信息" class="headerlink" title="3.查询部门名为Sales或Finance的相关信息"></a>3.查询部门名为Sales或Finance的相关信息</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">id</span>,<span class="keyword">name</span>,region_id</span><br><span class="line">	<span class="keyword">from</span> s_dept</span><br><span class="line">	<span class="keyword">where</span> <span class="keyword">name</span> <span class="keyword">in</span>(<span class="string">"Sales"</span>,<span class="string">"Finance"</span>);</span><br><span class="line">	</span><br><span class="line"><span class="keyword">select</span> <span class="keyword">id</span>,<span class="keyword">name</span>,region_id</span><br><span class="line">	<span class="keyword">from</span> s_dept</span><br><span class="line">	<span class="keyword">where</span> <span class="keyword">name</span>=<span class="string">"Sales"</span> <span class="keyword">or</span> <span class="keyword">name</span>=<span class="string">"Finance"</span>;(这里只能双引号"",不能用单引号'')</span><br></pre></td></tr></table></figure>

<h2 id="4-Distinct去除重复项"><a href="#4-Distinct去除重复项" class="headerlink" title="4.Distinct去除重复项"></a>4.Distinct去除重复项</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">distinct</span> <span class="keyword">name</span> <span class="keyword">from</span> s_dept;</span><br><span class="line">取出name列中的重复项</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">distinct</span> <span class="keyword">name</span>,<span class="keyword">id</span> <span class="keyword">from</span> s_dept;</span><br><span class="line">现在是name和id都一样才剔除</span><br></pre></td></tr></table></figure>

<h2 id="练习："><a href="#练习：" class="headerlink" title="练习："></a>练习：</h2><p><img src="/2020/09/11/Mysql/D:%5CProgram_Files%5CChenZhixia-stu%5Csource%5C_posts%5CMysql%5C1601429617578.png" alt="1601429617578"></p>
<p>1.查询员工工资在700到1500的员工id，和名字</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">id</span>,last_name,salary <span class="keyword">from</span> s_emp</span><br><span class="line"><span class="keyword">where</span> salary <span class="keyword">between</span> <span class="number">700</span> <span class="keyword">and</span> <span class="number">1500</span>;</span><br></pre></td></tr></table></figure>

<p>2.查询员工号在1,3,5,7,9员工的工资（有问题）</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> last_name,salary <span class="keyword">from</span> s_emp</span><br><span class="line"><span class="keyword">where</span> <span class="keyword">id</span> <span class="keyword">in</span>(<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">7</span>,<span class="number">9</span>);</span><br></pre></td></tr></table></figure>

<p>3.查询</p>


        
        <div class="post-announce">
            感谢您的阅读，本文由
            <a href="http://yoursite.com">‘小伙子的博客</a>
            版权所有。如若转载，请注明出处：‘小伙子的博客（<a href="http://yoursite.com/2020/09/11/Mysql/">http://yoursite.com/2020/09/11/Mysql/</a>）
        </div>
        

        <div class="post__prevs">
            <div class="post__prev">
                
                <a href="/2020/08/25/day1%E4%B8%8A%E8%AF%BE%E7%AC%94%E8%AE%B0/" title="day1 上课笔记"><i class="iconfont icon-prev"></i>day1 上课笔记</a>
                
            </div>
            <div class="post__prev post__prev--right">
                
                <a href="/2020/09/17/%E7%BD%91%E9%A1%B5%E8%AE%BE%E8%AE%A1/" title="网页设计">网页设计<i class="iconfont icon-next"></i></a>
                
            </div>
        </div>
    </div>
</article>

        
        
    </div>

    <aside class="page__sidebar">
    <!--  -->

    <form id="page-search-from" class="page__search-from" action="/search/">
        <label class="search-form__item">
            <input class="input" type="text" name="search" placeholder="Search...">
            <i class="iconfont icon-search"></i>
        </label>
    </form>

    

    <div class="sidebar__block">
        <h3 class="block__title">文章分类</h3>
        <ul class="block-list"><li class="block-list-item"><a class="block-list-link" href="/categories/%E6%A1%86%E6%9E%B6/">框架</a><span class="block-list-count">4</span></li><li class="block-list-item"><a class="block-list-link" href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/">数据库</a><span class="block-list-count">1</span></li><li class="block-list-item"><a class="block-list-link" href="/categories/%E6%8A%80%E6%9C%AF/">技术</a><span class="block-list-count">1</span></li><li class="block-list-item"><a class="block-list-link" href="/categories/%E5%B7%A5%E5%85%B7/">工具</a><span class="block-list-count">2</span></li><li class="block-list-item"><a class="block-list-link" href="/categories/lyc/">lyc</a><span class="block-list-count">1</span></li><li class="block-list-item"><a class="block-list-link" href="/categories/czx/">czx</a><span class="block-list-count">4</span></li></ul>
    </div>
    
    <div class="sidebar__block">
        <h3 class="block__title">最新文章</h3>
        
        <ul class="block-list latest-post-list">
            
                    <li class="latest-post-item">
                        <a href="/2020/09/28/springmvc%E5%86%8D%E5%AD%A6%E4%B9%A0/" title="springmvc再学习">
                            <div class="item__cover">
                                <img src="undefined" alt="springmvc再学习" />
                            </div>
                            <div class="item__info">
                                <h3 class="item__title">springmvc再学习</h3>
                                <span class="item__text">2020-09-28</span>
                            </div>
                        </a>
                    </li>
                
                    <li class="latest-post-item">
                        <a href="/2020/09/26/Swagger/" title="Swagger">
                            <div class="item__cover">
                                <img src="undefined" alt="Swagger" />
                            </div>
                            <div class="item__info">
                                <h3 class="item__title">Swagger</h3>
                                <span class="item__text">2020-09-26</span>
                            </div>
                        </a>
                    </li>
                
                    <li class="latest-post-item">
                        <a href="/2020/09/25/BootStrap/" title="BootStrap">
                            <div class="item__cover">
                                <img src="undefined" alt="BootStrap" />
                            </div>
                            <div class="item__info">
                                <h3 class="item__title">BootStrap</h3>
                                <span class="item__text">2020-09-25</span>
                            </div>
                        </a>
                    </li>
                
                    <li class="latest-post-item">
                        <a href="/2020/09/19/json/" title="json">
                            <div class="item__cover">
                                <img src="undefined" alt="json" />
                            </div>
                            <div class="item__info">
                                <h3 class="item__title">json</h3>
                                <span class="item__text">2020-09-19</span>
                            </div>
                        </a>
                    </li>
                
        </ul>
    
    </div>

    <div class="sidebar__block">
        <h3 class="block__title">文章标签</h3>
        
        <ul class="block-list tag-list clearfix">
            
                    <li class="tag-item">
                        <a class="tag-link" href="/tags/Mybatis/">Mybatis</a>
                    </li>  
                
                    <li class="tag-item">
                        <a class="tag-link" href="/tags/Servlet/">Servlet</a>
                    </li>  
                
                    <li class="tag-item">
                        <a class="tag-link" href="/tags/Spring/">Spring</a>
                    </li>  
                
                    <li class="tag-item">
                        <a class="tag-link" href="/tags/SpringDataJpa/">SpringDataJpa</a>
                    </li>  
                
                    <li class="tag-item">
                        <a class="tag-link" href="/tags/SpringMVC/">SpringMVC</a>
                    </li>  
                
                    <li class="tag-item">
                        <a class="tag-link" href="/tags/Tomcat/">Tomcat</a>
                    </li>  
                
                    <li class="tag-item">
                        <a class="tag-link" href="/tags/author-czx/">author-czx</a>
                    </li>  
                
                    <li class="tag-item">
                        <a class="tag-link" href="/tags/author-lyc/">author-lyc</a>
                    </li>  
                
                    <li class="tag-item">
                        <a class="tag-link" href="/tags/author-zcg/">author-zcg</a>
                    </li>  
                
                    <li class="tag-item">
                        <a class="tag-link" href="/tags/jQuery/">jQuery</a>
                    </li>  
                
                    <li class="tag-item">
                        <a class="tag-link" href="/tags/springboot/">springboot</a>
                    </li>  
                
                    <li class="tag-item">
                        <a class="tag-link" href="/tags/tomact/">tomact</a>
                    </li>  
                
                    <li class="tag-item">
                        <a class="tag-link" href="/tags/%E4%BD%93%E9%AA%8C%E5%AE%9E%E4%B9%A0/">体验实习</a>
                    </li>  
                
                    <li class="tag-item">
                        <a class="tag-link" href="/tags/%E5%A4%9A%E7%BA%BF%E7%A8%8B/">多线程</a>
                    </li>  
                
        </ul>
    
    </div>

    <!-- <div class="sidebar__block">
        <h3 class="block__title">友情链接</h3>
        <ul class="block-list">
            
        </ul>
    </div> -->
</aside>
</main>


        
            <!-- 页脚 -->
<footer class="page__footer">
    <section class="footer__top">
        <div class="page__container footer__container">
            
            <div class="footer-top__item footer-top__item--2">
                <h3 class="item__title">关于</h3>
                <div class="item__content">
                    <p class="item__text"></p>
                    <ul class="footer__contact-info">
                        <li class="contact-info__item">
                            <i class="iconfont icon-address"></i>
                            <span></span>
                        </li>
                        <li class="contact-info__item">
                            <i class="iconfont icon-email2"></i>
                            <span></span>
                        </li>
                    </ul>
                </div>
            </div>

            
            
            
            
            
        </div>
    </section>
    <section class="footer__bottom">
        <div class="page__container footer__container">
            <p class="footer__copyright">©
                <a href="https://github.com/Mrminfive/hexo-theme-skapp" target="_blank">Skapp</a> 2017 powered by
                <a href="http://hexo.io/" target="_blank">Hexo</a>, made by 
                <a href="https://github.com/Mrminfive" target="_blank">minfive</a>.
            </p>
            <ul class="footer__social-network clearfix">
                
            </ul>
        </div>
    </section>
</footer>
        

        
            <!-- 返回顶部 -->
<div id="back-top" class="back-top back-top--hidden js-hidden">
    <i class="iconfont icon-top"></i>
</div>
        
    </div>

    <!-- build:js /js/common.js -->
        <script type="text/javascript" src="js/common/utils.js"></script>
        <script type="text/javascript" src="js/common/pack.js"></script>
        <script type="text/javascript" src="js/common/animation.js"></script>
        <script type="text/javascript" src="js/layout/loading.js"></script>
        <script type="text/javascript" src="js/layout/header.js"></script>
        <script type="text/javascript" src="js/layout/back-top.js"></script>
        <script type="text/javascript" src="js/layout/post.js"></script>
    <!-- endbuild -->

    
    
<script src="/js/page/post.js"></script>



    
    



    <!-- 不蒜子统计 -->

<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js">
</script>


     








</body>
</html>